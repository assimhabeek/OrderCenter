!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Iab2:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,a){var l=i.URL||i.webkitURL,s=document.createElement("a");s.download=o=o||e.name||"download",s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?r(s):n(s.href)?t(e,o,a):r(s,s.target="_blank")):(s.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(s.href)},4e4),setTimeout(function(){r(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,o){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),i);else if(n(e))t(e,i,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){r(a)})}}:function(e,n,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var l="application/octet-stream"===e.type,s=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&s||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,[]):r)||(e.exports=i)},MOE4:function(t,r,o){"use strict";o.d(r,"a",function(){return m});var a=o("AytR"),l=o("tk/3"),s=o("lJxs"),c=o("cp0P"),u=o("r4zg"),d=o("fXoL"),f=o("N+K7"),p=o("As+J"),h=o("PAny"),m=function(){var t=function(){function t(e,r,i){n(this,t),this.httpService=e,this.skusService=r,this.vehiclesService=i}return i(t,[{key:"getSKUs",value:function(){var e=this;return this.skusService.getSkus().pipe(Object(s.a)(function(t){var n=t.data.reduce(function(e,t){var n=e[t.skuType]||[];return n.push(t),e[t.skuType]=n,e},{});return Object.keys(n).reduce(function(t,r){return t[r]=e.addEmptyAndCompletedToSkus(n[r]),t},{})}))}},{key:"getHeader",value:function(){var t=this;return Object(c.a)([this.getSKUs(),this.vehiclesService.getYear()]).pipe(Object(s.a)(function(n){var r=e(n,2),i=r[0],o=r[1],a=i.BULB_TYPE||t.addEmptyAndCompletedToSkus([]),l=i.BULB_TYPE_FOG_LIGHT||t.addEmptyAndCompletedToSkus([]),s=i.HIGH_BEAM||t.addEmptyAndCompletedToSkus([]),c=i.LOW_BEAM||t.addEmptyAndCompletedToSkus([]),u=i.FOG_LIGHT||t.addEmptyAndCompletedToSkus([]),d=i.HB_CAN_BUS||t.addEmptyAndCompletedToSkus([]),f=i.LB_CAN_BUS||t.addEmptyAndCompletedToSkus([]);return t.buildHeader(a,l,s,c,u,d,f,o)}))}},{key:"addEmptyAndCompletedToSkus",value:function(e){return e&&((e=e.map(function(e){return e.name})).unshift(u.a.NOT_EMPTY_CHAR),e.unshift("")),e||[]}},{key:"buildHeader",value:function(e,t,n,r,i,o,a,l){return[{field:"orderStatus",pinned:"left",hide:!0,filter:"agNumberColumnFilter",headerName:" "},{field:"orderNo",pinned:"left",headerName:"Order No"},{field:"lastModification",headerName:"Last modification",tooltipField:"lastModification",valueSetter:function(e){return e.data.lastModification=e.newValue,!0},cellRenderer:function(e){return u.a.fromMysqlDateTime(e.value).fromNow()},cellStyle:{"background-color":"rgba(60,60,60,0.3)"},editable:!1,filter:!1},{field:"quantity",headerName:"Quantity",type:"numericColumn"},{field:"productName",headerName:"Product name"},{field:"productTitle",headerName:"Product title"},{field:"bulbType",headerName:"Bulb type",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:e}},{field:"bulbTypeFogLight",headerName:"bulb Type Fog Light",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:t}},{field:"highBeam",headerName:"High beam",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:n}},{field:"lowBeam",headerName:"Low beam",cellEditor:"selectEditor",width:100,cellEditorParams:{elements:r}},{field:"fogLight",headerName:"Fog light",cellEditor:"selectEditor",width:100,cellEditorParams:{elements:i}},{field:"hbCanBus",headerName:"Hb can bus",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:o}},{field:"lbCanBus",headerName:"Lb can bus",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:a}},{field:"orderNotes",headerName:"Order notes"},{field:"additionalDetails",headerName:"Additional details"},{field:"shippingName",headerName:"Shipping name"},{field:"shippingAddress1",headerName:"Shipping address1"},{field:"address2",headerName:"Address2"},{field:"shippingCity",headerName:"Shipping city"},{field:"shippingZip",headerName:"Shipping zip"},{field:"shippingProvince",headerName:"Shipping province"},{field:"shippingCountryCode",headerName:"Shipping country code"},{field:"shippingCountry",headerName:"Shipping country"},{field:"shippingPhone",headerName:"Shipping phone"},{field:"shippingCompany",headerName:"Shipping company"},{field:"orderDate",headerName:"Order date",cellStyle:{"background-color":"rgba(60,60,60,0.3)"},editable:!1},{field:"modifiedBy",cellStyle:{"background-color":"rgba(60,60,60,0.3)"},headerName:"Modified by",editable:!1},{field:"completed",hide:!0}]}},{key:"getQueueOrders",value:function(e){var t=JSON.stringify([{name:"completed",value:"completed"},{name:"orderStatus",value:e}]);return this.httpService.getWithAuth(a.a.routes.orders,{params:(new l.c).set("filter",t)})}},{key:"getRows",value:function(e){var t=Object.keys(e.request.filterModel).map(function(t){return{name:t,value:e.request.filterModel[t].filter}}),n=JSON.stringify(t),r=(new l.c).set("start",e.request.startRow.toString()).set("end",e.request.endRow.toString()).set("filter",n).set("sortBy",e.request.sortModel[0]?e.request.sortModel[0].colId:"").set("sortDirection",e.request.sortModel[0]?e.request.sortModel[0].sort:"");this.httpService.getWithAuth(a.a.routes.orders,{params:r}).subscribe(function(t){if(!0===t.status){e.successCallback(t.data,t.total);var n=e.columnApi.getAllColumns().filter(function(e){return!e.colDef.width}).map(function(e){return e.colId});e.columnApi.autoSizeColumns(n,!0)}else e.failCallback()},function(t){e.failCallback()})}},{key:"addRow",value:function(e){return this.httpService.postWithAuth(a.a.routes.orders,e)}},{key:"addAll",value:function(e){return this.httpService.postWithAuth(a.a.routes.ordersAll,e)}},{key:"updateCell",value:function(e){return this.httpService.putWithAuth(a.a.routes.orders,e).toPromise()}},{key:"queueAll",value:function(e){return this.httpService.putWithAuth(a.a.routes.ordersQueueAll,e)}},{key:"deleteRow",value:function(e){return this.httpService.deleteWithAuth(a.a.routes.orders+"/"+e)}},{key:"loadOrdersByRange",value:function(e,t,n){var r=(new l.c).set("start",e).set("end",t).set("type",n);return this.httpService.getWithAuth(a.a.routes.ordersQueuedRange,{params:r})}},{key:"exportOrders",value:function(e){return this.httpService.postWithAuth(a.a.routes.exportOrders,e,{responseType:"blob",observe:"response"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Vb(f.a),d.Vb(p.a),d.Vb(h.a))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Raaw:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o=r("mrSG"),a=r("fXoL"),l=r("d3UM"),s=r("PAny"),c=r("Wp6s"),u=r("kmnG"),d=r("3Pt+"),f=r("ofXK"),p=r("FKr1"),h=["group"];function m(e,t){if(1&e&&(a.Rb(0,"mat-option",4),a.xc(1),a.Qb()),2&e){var n=t.$implicit;a.hc("value",n),a.Ab(1),a.zc(" ",n," ")}}var v=function(){var e=function(){function e(t){n(this,e),this.vehicleService=t,this.elements=[]}return i(e,[{key:"agInit",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.params=e,this.currentElement=this.params.value,t.next=4,this.getElement(e.requested);case 4:this.selectedIndex=this.elements.findIndex(function(e){return e===n.params.value});case 5:case"end":return t.stop()}},t,this)}))}},{key:"getElement",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.params.node.data.vehicleYear,"make"!==e){t.next=7;break}return t.next=4,this.vehicleService.getMake(n);case 4:this.elements=t.sent,t.next=11;break;case 7:return r=this.params.node.data.vehicleMake,t.next=10,this.vehicleService.getModel(n,r);case 10:this.elements=t.sent;case 11:case"end":return t.stop()}},t,this)}))}},{key:"ngAfterViewInit",value:function(){var e=this;window.setTimeout(function(){e.group.element.nativeElement.focus()}),this.selectCurrentElementBasedOnSelectedIndex()}},{key:"selectCurrentElementBasedOnSelectedIndex",value:function(){this.currentElement=this.elements[this.selectedIndex]}},{key:"getValue",value:function(){return this.currentElement}},{key:"isPopup",value:function(){return!0}},{key:"onKeyDown",value:function(t){var n=t.key;38!==n&&40!==n||(e.preventDefaultAndPropagation(t),38===n?this.selectedIndex=0===this.selectedIndex?this.elements.length-1:this.selectedIndex-1:40===n&&(this.selectedIndex=this.selectedIndex===this.elements.length-1?0:this.selectedIndex+1),this.selectCurrentElementBasedOnSelectedIndex())}}],[{key:"preventDefaultAndPropagation",value:function(e){e.preventDefault(),e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Lb(s.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["ct-mat-select"]],viewQuery:function(e,t){var n;(1&e&&(a.Ac(h,!0,a.Q),a.Ac(l.a,!0)),2&e)&&(a.lc(n=a.Zb())&&(t.group=n.first),a.lc(n=a.Zb())&&(t.select=n.first))},decls:6,vars:2,consts:[["tabindex","0",1,"container",3,"keydown"],["group",""],["panelClass","ag-custom-component-popup",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.Rb(0,"mat-card"),a.Rb(1,"div",0,1),a.Yb("keydown",function(e){return t.onKeyDown(e)}),a.Rb(3,"mat-form-field"),a.Rb(4,"mat-select",2),a.Yb("ngModelChange",function(e){return t.currentElement=e}),a.wc(5,m,2,2,"mat-option",3),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.Ab(4),a.hc("ngModel",t.currentElement),a.Ab(1),a.hc("ngForOf",t.elements))},directives:[c.a,u.c,l.a,d.l,d.o,f.j,p.k],styles:["mat-form-field[_ngcontent-%COMP%] {\n            width: 100px;\n        }\n\n        .container[_ngcontent-%COMP%]:focus {\n            outline: none;\n        }"]}),e}()},sU9S:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o=r("fXoL"),a=r("d3UM"),l=r("kmnG"),s=r("3Pt+"),c=r("ofXK"),u=r("FKr1"),d=["group"];function f(e,t){if(1&e&&(o.Rb(0,"mat-option",4),o.xc(1),o.Qb()),2&e){var n=t.$implicit;o.hc("value",n),o.Ab(1),o.zc(" ",n," ")}}var p=function(){var e=function(){function e(){n(this,e)}return i(e,[{key:"agInit",value:function(e){var t=this;this.params=e,this.currentElement=this.params.value,this.elements=this.params.elements,this.selectedIndex=Math.max(this.elements.findIndex(function(e){return e===t.params.value}),0)}},{key:"ngAfterViewInit",value:function(){var e=this;window.setTimeout(function(){e.group.element.nativeElement.focus()}),this.selectCurrentElementBasedOnSelectedIndex(),this.select.open(),this.select.focus({preventScroll:!1})}},{key:"selectCurrentElementBasedOnSelectedIndex",value:function(){this.currentElement=this.elements[this.selectedIndex]}},{key:"getValue",value:function(){return this.currentElement}},{key:"isPopup",value:function(){return!0}},{key:"onKeyDown",value:function(e){var t=e.which||e.keyCode;38!==t&&40!==t||(this.preventDefaultAndPropagation(e),this.select._handleKeydown(e),this.selectedIndex=Math.max(this.select._keyManager.activeItemIndex,0),this.selectCurrentElementBasedOnSelectedIndex())}},{key:"preventDefaultAndPropagation",value:function(e){e.preventDefault(),e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Fb({type:e,selectors:[["ct-mat-select"]],viewQuery:function(e,t){var n;(1&e&&(o.Ac(d,!0,o.Q),o.Ac(a.a,!0)),2&e)&&(o.lc(n=o.Zb())&&(t.group=n.first),o.lc(n=o.Zb())&&(t.select=n.first))},decls:5,vars:2,consts:[["tabindex","0",1,"container",3,"keydown"],["group",""],["panelClass","ag-custom-component-popup",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.Rb(0,"div",0,1),o.Yb("keydown",function(e){return t.onKeyDown(e)}),o.Rb(2,"mat-form-field"),o.Rb(3,"mat-select",2),o.Yb("ngModelChange",function(e){return t.currentElement=e}),o.wc(4,f,2,2,"mat-option",3),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.Ab(3),o.hc("ngModel",t.currentElement),o.Ab(1),o.hc("ngForOf",t.elements))},directives:[l.c,a.a,s.l,s.o,c.j,u.k],styles:["mat-form-field[_ngcontent-%COMP%] {\n            width: 100px;\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n\n        .container[_ngcontent-%COMP%] {\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n        .container[_ngcontent-%COMP%]:focus {\n            outline: none;\n        }"]}),e}()},tXqc:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o=r("fXoL"),a=r("bSwM"),l=r("3Pt+"),s=function(){var e=function(){function e(){n(this,e),this.checked=!1}return i(e,[{key:"agInit",value:function(e){this.params=e,this.checked=this.params.value}},{key:"onChange",value:function(e){this.checked=e,this.params.node.setDataValue(this.params.colDef,this.checked),this.params.eGridCell&&this.params.eGridCell.focus()}},{key:"refresh",value:function(e){return!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Fb({type:e,selectors:[["ct-checkbox-cell"]],decls:1,vars:1,consts:[[3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.Rb(0,"mat-checkbox",0),o.Yb("ngModelChange",function(e){return t.onChange(e)}),o.Qb()),2&e&&o.hc("ngModel",t.checked)},directives:[a.a,l.l,l.o],styles:[".mat-checkbox-layout {\n                \n                width: 100%;\n                display: inline-block !important;\n                text-align: center;\n                margin-top: -4px;\n                margin-left: 2px;\n                \n                \n                line-height: 36px;\n\n            }\n\n             \n            .mat-checkbox-layout .mat-ripple-element {\n                opacity: 0.2;\n            }"]}),e}()}}])}();