(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Iab2:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,a){var s=r.URL||r.webkitURL,l=document.createElement("a");l.download=o=o||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,o,a):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,o){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),r);else if(n(e))t(e,r,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){i(a)})}}:function(e,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,l=/constructor/i.test(r.HTMLElement)||r.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});r.saveAs=a.saveAs=a,e.exports=a})?i.apply(t,[]):i)||(e.exports=r)},MOE4:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("AytR"),r=n("tk/3"),o=n("lJxs"),a=n("cp0P"),s=n("r4zg"),l=n("fXoL"),d=n("N+K7"),c=n("As+J"),u=n("PAny");let p=(()=>{class e{constructor(e,t,n){this.httpService=e,this.skusService=t,this.vehiclesService=n}getSKUs(){return this.skusService.getSkus().pipe(Object(o.a)(e=>{const t=e.data.reduce((e,t)=>{const n=e[t.skuType]||[];return n.push(t),e[t.skuType]=n,e},{});return Object.keys(t).reduce((e,n)=>(e[n]=this.addEmptyAndCompletedToSkus(t[n]),e),{})}))}getHeader(){return Object(a.a)([this.getSKUs(),this.vehiclesService.getYear()]).pipe(Object(o.a)(([e,t])=>{const n=e.BULB_TYPE||this.addEmptyAndCompletedToSkus([]),i=e.BULB_TYPE_FOG_LIGHT||this.addEmptyAndCompletedToSkus([]),r=e.HIGH_BEAM||this.addEmptyAndCompletedToSkus([]),o=e.LOW_BEAM||this.addEmptyAndCompletedToSkus([]),a=e.FOG_LIGHT||this.addEmptyAndCompletedToSkus([]),s=e.HB_CAN_BUS||this.addEmptyAndCompletedToSkus([]),l=e.LB_CAN_BUS||this.addEmptyAndCompletedToSkus([]);return this.buildHeader(n,i,r,o,a,s,l,t)}))}addEmptyAndCompletedToSkus(e){return e&&((e=e.map(e=>e.name)).unshift(s.a.NOT_EMPTY_CHAR),e.unshift("")),e||[]}buildHeader(e,t,n,i,r,o,a,l){return[{field:"orderStatus",pinned:"left",hide:!0,filter:"agNumberColumnFilter",headerName:" "},{field:"orderNo",pinned:"left",headerName:"Order No"},{field:"lastModification",headerName:"Last modification",tooltipField:"lastModification",valueSetter:e=>(e.data.lastModification=e.newValue,!0),cellRenderer:e=>s.a.fromMysqlDateTime(e.value).fromNow(),cellStyle:{"background-color":"rgba(60,60,60,0.3)"},editable:!1,filter:!1},{field:"quantity",headerName:"Quantity",type:"numericColumn"},{field:"productName",headerName:"Product name"},{field:"productTitle",headerName:"Product title"},{field:"bulbType",headerName:"Bulb type",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:e}},{field:"bulbTypeFogLight",headerName:"bulb Type Fog Light",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:t}},{field:"highBeam",headerName:"High beam",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:n}},{field:"lowBeam",headerName:"Low beam",cellEditor:"selectEditor",width:100,cellEditorParams:{elements:i}},{field:"fogLight",headerName:"Fog light",cellEditor:"selectEditor",width:100,cellEditorParams:{elements:r}},{field:"hbCanBus",headerName:"Hb can bus",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:o}},{field:"lbCanBus",headerName:"Lb can bus",width:100,cellEditor:"selectEditor",cellEditorParams:{elements:a}},{field:"orderNotes",headerName:"Order notes"},{field:"additionalDetails",headerName:"Additional details"},{field:"shippingName",headerName:"Shipping name"},{field:"shippingAddress1",headerName:"Shipping address1"},{field:"address2",headerName:"Address2"},{field:"shippingCity",headerName:"Shipping city"},{field:"shippingZip",headerName:"Shipping zip"},{field:"shippingProvince",headerName:"Shipping province"},{field:"shippingCountryCode",headerName:"Shipping country code"},{field:"shippingCountry",headerName:"Shipping country"},{field:"shippingPhone",headerName:"Shipping phone"},{field:"shippingCompany",headerName:"Shipping company"},{field:"orderDate",headerName:"Order date",cellStyle:{"background-color":"rgba(60,60,60,0.3)"},editable:!1},{field:"modifiedBy",cellStyle:{"background-color":"rgba(60,60,60,0.3)"},headerName:"Modified by",editable:!1},{field:"completed",hide:!0}]}getQueueOrders(e){const t=JSON.stringify([{name:"completed",value:"completed"},{name:"orderStatus",value:e}]);return this.httpService.getWithAuth(i.a.routes.orders,{params:(new r.c).set("filter",t)})}getRows(e){const t=Object.keys(e.request.filterModel).map(t=>({name:t,value:e.request.filterModel[t].filter})),n=JSON.stringify(t),o=(new r.c).set("start",e.request.startRow.toString()).set("end",e.request.endRow.toString()).set("filter",n).set("sortBy",e.request.sortModel[0]?e.request.sortModel[0].colId:"").set("sortDirection",e.request.sortModel[0]?e.request.sortModel[0].sort:"");this.httpService.getWithAuth(i.a.routes.orders,{params:o}).subscribe(t=>{if(!0===t.status){e.successCallback(t.data,t.total);const n=e.columnApi.getAllColumns().filter(e=>!e.colDef.width).map(e=>e.colId);e.columnApi.autoSizeColumns(n,!0)}else e.failCallback()},t=>{e.failCallback()})}addRow(e){return this.httpService.postWithAuth(i.a.routes.orders,e)}addAll(e){return this.httpService.postWithAuth(i.a.routes.ordersAll,e)}updateCell(e){return this.httpService.putWithAuth(i.a.routes.orders,e).toPromise()}queueAll(e){return this.httpService.putWithAuth(i.a.routes.ordersQueueAll,e)}deleteRow(e){return this.httpService.deleteWithAuth(i.a.routes.orders+"/"+e)}loadOrdersByRange(e,t,n){const o=(new r.c).set("start",e).set("end",t).set("type",n);return this.httpService.getWithAuth(i.a.routes.ordersQueuedRange,{params:o})}exportOrders(e){return this.httpService.postWithAuth(i.a.routes.exportOrders,e,{responseType:"blob",observe:"response"})}}return e.\u0275fac=function(t){return new(t||e)(l.Vb(d.a),l.Vb(c.a),l.Vb(u.a))},e.\u0275prov=l.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Raaw:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("mrSG"),r=n("fXoL"),o=n("d3UM"),a=n("PAny"),s=n("Wp6s"),l=n("kmnG"),d=n("3Pt+"),c=n("ofXK"),u=n("FKr1");const p=["group"];function h(e,t){if(1&e&&(r.Rb(0,"mat-option",4),r.xc(1),r.Qb()),2&e){const e=t.$implicit;r.hc("value",e),r.Ab(1),r.zc(" ",e," ")}}let m=(()=>{class e{constructor(e){this.vehicleService=e,this.elements=[]}static preventDefaultAndPropagation(e){e.preventDefault(),e.stopPropagation()}agInit(e){return Object(i.a)(this,void 0,void 0,function*(){this.params=e,this.currentElement=this.params.value,yield this.getElement(e.requested),this.selectedIndex=this.elements.findIndex(e=>e===this.params.value)})}getElement(e){return Object(i.a)(this,void 0,void 0,function*(){const t=this.params.node.data.vehicleYear;if("make"===e)this.elements=yield this.vehicleService.getMake(t);else{const e=this.params.node.data.vehicleMake;this.elements=yield this.vehicleService.getModel(t,e)}})}ngAfterViewInit(){window.setTimeout(()=>{this.group.element.nativeElement.focus()}),this.selectCurrentElementBasedOnSelectedIndex()}selectCurrentElementBasedOnSelectedIndex(){this.currentElement=this.elements[this.selectedIndex]}getValue(){return this.currentElement}isPopup(){return!0}onKeyDown(t){const n=t.key;38!==n&&40!==n||(e.preventDefaultAndPropagation(t),38===n?this.selectedIndex=0===this.selectedIndex?this.elements.length-1:this.selectedIndex-1:40===n&&(this.selectedIndex=this.selectedIndex===this.elements.length-1?0:this.selectedIndex+1),this.selectCurrentElementBasedOnSelectedIndex())}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(a.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["ct-mat-select"]],viewQuery:function(e,t){if(1&e&&(r.Ac(p,!0,r.Q),r.Ac(o.a,!0)),2&e){let e;r.lc(e=r.Zb())&&(t.group=e.first),r.lc(e=r.Zb())&&(t.select=e.first)}},decls:6,vars:2,consts:[["tabindex","0",1,"container",3,"keydown"],["group",""],["panelClass","ag-custom-component-popup",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(r.Rb(0,"mat-card"),r.Rb(1,"div",0,1),r.Yb("keydown",function(e){return t.onKeyDown(e)}),r.Rb(3,"mat-form-field"),r.Rb(4,"mat-select",2),r.Yb("ngModelChange",function(e){return t.currentElement=e}),r.wc(5,h,2,2,"mat-option",3),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(4),r.hc("ngModel",t.currentElement),r.Ab(1),r.hc("ngForOf",t.elements))},directives:[s.a,l.c,o.a,d.l,d.o,c.j,u.k],styles:["mat-form-field[_ngcontent-%COMP%] {\n            width: 100px;\n        }\n\n        .container[_ngcontent-%COMP%]:focus {\n            outline: none;\n        }"]}),e})()},sU9S:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("fXoL"),r=n("d3UM"),o=n("kmnG"),a=n("3Pt+"),s=n("ofXK"),l=n("FKr1");const d=["group"];function c(e,t){if(1&e&&(i.Rb(0,"mat-option",4),i.xc(1),i.Qb()),2&e){const e=t.$implicit;i.hc("value",e),i.Ab(1),i.zc(" ",e," ")}}let u=(()=>{class e{agInit(e){this.params=e,this.currentElement=this.params.value,this.elements=this.params.elements,this.selectedIndex=Math.max(this.elements.findIndex(e=>e===this.params.value),0)}ngAfterViewInit(){window.setTimeout(()=>{this.group.element.nativeElement.focus()}),this.selectCurrentElementBasedOnSelectedIndex(),this.select.open(),this.select.focus({preventScroll:!1})}selectCurrentElementBasedOnSelectedIndex(){this.currentElement=this.elements[this.selectedIndex]}getValue(){return this.currentElement}isPopup(){return!0}onKeyDown(e){const t=e.which||e.keyCode;38!==t&&40!==t||(this.preventDefaultAndPropagation(e),this.select._handleKeydown(e),this.selectedIndex=Math.max(this.select._keyManager.activeItemIndex,0),this.selectCurrentElementBasedOnSelectedIndex())}preventDefaultAndPropagation(e){e.preventDefault(),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Fb({type:e,selectors:[["ct-mat-select"]],viewQuery:function(e,t){if(1&e&&(i.Ac(d,!0,i.Q),i.Ac(r.a,!0)),2&e){let e;i.lc(e=i.Zb())&&(t.group=e.first),i.lc(e=i.Zb())&&(t.select=e.first)}},decls:5,vars:2,consts:[["tabindex","0",1,"container",3,"keydown"],["group",""],["panelClass","ag-custom-component-popup",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i.Rb(0,"div",0,1),i.Yb("keydown",function(e){return t.onKeyDown(e)}),i.Rb(2,"mat-form-field"),i.Rb(3,"mat-select",2),i.Yb("ngModelChange",function(e){return t.currentElement=e}),i.wc(4,c,2,2,"mat-option",3),i.Qb(),i.Qb(),i.Qb()),2&e&&(i.Ab(3),i.hc("ngModel",t.currentElement),i.Ab(1),i.hc("ngForOf",t.elements))},directives:[o.c,r.a,a.l,a.o,s.j,l.k],styles:["mat-form-field[_ngcontent-%COMP%] {\n            width: 100px;\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n\n        .container[_ngcontent-%COMP%] {\n            margin: 0 !important;\n            padding: 0 !important;\n        }\n\n        .container[_ngcontent-%COMP%]:focus {\n            outline: none;\n        }"]}),e})()},tXqc:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("fXoL"),r=n("bSwM"),o=n("3Pt+");let a=(()=>{class e{constructor(){this.checked=!1}agInit(e){this.params=e,this.checked=this.params.value}onChange(e){this.checked=e,this.params.node.setDataValue(this.params.colDef,this.checked),this.params.eGridCell&&this.params.eGridCell.focus()}refresh(e){return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Fb({type:e,selectors:[["ct-checkbox-cell"]],decls:1,vars:1,consts:[[3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(i.Rb(0,"mat-checkbox",0),i.Yb("ngModelChange",function(e){return t.onChange(e)}),i.Qb()),2&e&&i.hc("ngModel",t.checked)},directives:[r.a,o.l,o.o],styles:[".mat-checkbox-layout {\n                \n                width: 100%;\n                display: inline-block !important;\n                text-align: center;\n                margin-top: -4px;\n                margin-left: 2px;\n                \n                \n                line-height: 36px;\n\n            }\n\n             \n            .mat-checkbox-layout .mat-ripple-element {\n                opacity: 0.2;\n            }"]}),e})()}}]);